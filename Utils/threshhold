
my_label = tk.Label(test_window, text="Завантаження...", bg="gray")
my_label.pack(expand=True)

    try:
        if not full_doc or not image_data:
            messagebox.showwarning("Увага", "Зображення не знайдено в БД")
            return

        # 3. Магія з потоком
        stream = io.BytesIO(image_data)
            
        # 4. Відкриваємо через PIL
        pil_image = Image.open(stream)

        # (Опціонально) Змінюємо розмір
        pil_image.thumbnail((300, 300)) 

        # 5. Конвертуємо для Tkinter
        tk_image = ImageTk.PhotoImage(pil_image)

        # 6. Вставляємо в Label (звертаємось до my_label, який створили вище)
        my_label.config(image=tk_image, text="") 
            
        # ВАЖЛИВО! Зберігаємо посилання
        my_label.image = tk_image 

    except Exception as e:
        messagebox.showerror("Помилка", f"Не вдалося відобразити: {e}")

# Викликаємо функцію (тепер без аргументів, бо Label вже доступний глобально в цьому файлі)
# Або можна передати label як аргумент, якщо хочете красивіше.
show_image()
